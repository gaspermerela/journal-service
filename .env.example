# Journal Service Configuration
# Copy to .env and set your values. Required fields are marked.

# =============================================================================
# REQUIRED SETTINGS
# =============================================================================

DATABASE_PASSWORD=your-password          # Required
JWT_SECRET_KEY=your-secret-key-32chars   # Required (generate: openssl rand -hex 32)
GROQ_API_KEY=gsk_xxxxx                   # Required for default Groq provider

# =============================================================================
# DATABASE
# =============================================================================

DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=postgres
DATABASE_USER=db_user
# DB_POOL_SIZE=5
# DB_MAX_OVERFLOW=10

# =============================================================================
# APPLICATION
# =============================================================================

HOST=127.0.0.1       # Use 0.0.0.0 to expose externally
PORT=8000
LOG_LEVEL=INFO
# CORS_ORIGINS=*     # Comma-separated origins or * for all

# =============================================================================
# AI PROVIDERS (defaults can be overridden per-request via API)
# =============================================================================
# Transcription: groq, assemblyai, clarin-slovene-asr
# LLM Cleanup:   groq, runpod_llm_gams

DEFAULT_TRANSCRIPTION_PROVIDER=groq
DEFAULT_LLM_PROVIDER=groq

# -----------------------------------------------------------------------------
# Groq Configuration (transcription + LLM)
# -----------------------------------------------------------------------------
# GROQ_API_KEY set above in required settings
GROQ_TRANSCRIPTION_MODEL=whisper-large-v3       # or whisper-large-v3-turbo
GROQ_LLM_MODEL=meta-llama/llama-4-maverick-17b-128e-instruct

# -----------------------------------------------------------------------------
# AssemblyAI (alternative transcription provider)
# -----------------------------------------------------------------------------
# ASSEMBLYAI_API_KEY=your-key
# ASSEMBLYAI_MODEL=universal

# -----------------------------------------------------------------------------
# Slovenian ASR - RunPod PROTOVERB (alternative transcription)
# -----------------------------------------------------------------------------
# RUNPOD_API_KEY=rpa_xxxxx
# Set at least one endpoint:
# SLOVENE_ASR_NFA_ENDPOINT_ID=xxx         # NFA alignment
# SLOVENE_ASR_MMS_ENDPOINT_ID=xxx         # MMS alignment
# SLOVENE_ASR_PYANNOTE_ENDPOINT_ID=xxx    # pyannote 3.1

# -----------------------------------------------------------------------------
# GaMS Slovenian LLM - RunPod (alternative LLM for Slovenian)
# -----------------------------------------------------------------------------
# Uses same RUNPOD_API_KEY as above
# RUNPOD_LLM_GAMS_ENDPOINT_ID=xxx
# RUNPOD_LLM_GAMS_MODEL=GaMS-9B-Instruct  # or GaMS-2B-Instruct

# =============================================================================
# OPTIONAL SETTINGS
# =============================================================================

# LLM Settings
LLM_TIMEOUT_SECONDS=120
LLM_MAX_RETRIES=2

# Storage
MAX_FILE_SIZE_MB=100
# AUDIO_STORAGE_PATH=/app/data/audio

# Audio Preprocessing (for clarin-slovene-asr; cloud providers (groq/assemblyAI handle this)
ENABLE_AUDIO_PREPROCESSING=true
# PREPROCESSING_SAMPLE_RATE=16000
# PREPROCESSING_HIGHPASS_FREQ=60
# PREPROCESSING_LOUDNORM_I=-16
# PREPROCESSING_LOUDNORM_TP=-1.5
# PREPROCESSING_LOUDNORM_LRA=11
# PREPROCESSING_SILENCE_THRESHOLD=-80dB
# PREPROCESSING_SILENCE_DURATION=0.5

# Spell-check (Slovenian)
SPELLCHECK_ENABLED=true

# JWT Token Expiration
ACCESS_TOKEN_EXPIRE_DAYS=30
REFRESH_TOKEN_EXPIRE_DAYS=30

# Encryption (falls back to JWT_SECRET_KEY if not set)
# ENCRYPTION_KEY=your-32-byte-key-base64

# Development
DEBUG=false
RELOAD=false
# LLM_STORE_RAW_RESPONSE=false

# Logging (per-module)
# APP_LOG_LEVEL=INFO
# SQLALCHEMY_LOG_LEVEL=WARNING
# UVICORN_LOG_LEVEL=INFO

# =============================================================================
# NOTION INTEGRATION (TO BE REMOVED)
# =============================================================================
# NOTION_RATE_LIMIT_REQUESTS=3
# NOTION_MAX_RETRIES=3
# NOTION_RETRY_DELAY=5

# Testing only
# NOTION_TEST_API_KEY=secret_xxxxx
# NOTION_TEST_DATABASE_ID=xxxxx
